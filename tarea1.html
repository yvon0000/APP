<!DOCTYPE html>
<html lang="es">


<head>
	<title>Validación de Datos con PHP</title>
	<meta charset="utf8" />
	<!-- CSS only -->
	<link rel="stylesheet" type="text/css" href="validar-datos.php">
	<link rel="stylesheet" type="text/css" href="tarea1.css">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

	<!-- JavaScript Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
		crossorigin="anonymous"></script>

		<script type="text/javascript">
			document.getElementById('email').addEventListener('input', 
			function() {
			campo = event.target;
			valido = document.getElementById('emailOK');
				
			emailRegex = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
		
			if (emailRegex.test(campo.value)) {
			  valido.innerText = "válido";
			} else {
			  valido.innerText = "incorrecto";
			}
		});
		</script>
	<script>
		let validarNombre = document.valida_datos_get_frm;
		function validarDatosGET() {

			////<!-- Creamos una variable llamada verificar que tiene asociado un valor Verdadero (true) -->
			var verificar = true;
			//creamos una variable llamada validarNombre que toma valor  document.valida_datos_get_frm
			let validarDatos = document.valida_datos_get_frm;
			//<!-- Negando lo que tiene nuestro campo nombre_txt (Si esta vació) -->

			if (!validarDatos.correo_txt.value) {
				//creamos un div en js
				const mostrarAlerta = document.createElement("DIV")
				mostrarAlerta.textContent = "El campo nombrez es obligatorio"
				//selecionar el id formulario
				const SelecionarFormulario = document.querySelector("#formulario")
				SelecionarFormulario.appendChild(mostrarAlerta)
				//creamos una clase en js
				mostrarAlerta.classList.add("alerta")

				setTimeout(() => {
					mostrarAlerta.remove();
				}, 3000);
				//<!-- focus permite que el puntero del mouse se posicione en el lugar indicado -->
				validarNombre.correo_txt.focus();
				//<!-- La variable verificar toma el valor de falso --> 
				verificar = false;
			}


			else if (!validarDatos.contrasena_txt.value) {
				//creamos un div en js
				const mostrarAlerta = document.createElement("DIV")
				mostrarAlerta.textContent = "El campo apellido es obligatorio"
				//selecionar el id formulario
				const SelecionarFormulario = document.querySelector("#formulario")
				SelecionarFormulario.appendChild(mostrarAlerta)
				//creamos una clase en js
				mostrarAlerta.classList.add("alerta")

				setTimeout(() => {
					mostrarAlerta.remove();
				}, 3000);
				document.valida_datos_get_frm.contrasena_txt.focus();
				//<!-- La variable verificar toma el valor de falso --> 
				verificar = false;
			}


			//<!-- Verifica preguntamos si tiene valor verdadero va enviar los datos con el método submit hacia nuestro archivo php -->
			if (verificar == true) {
				document.valida_datos_get_frm.submit();

			}

		}



		//<!-- onload permite que cuando se cargue la pantalla me permita llamar a la funcion que corresponda -->
		//<!-- document.getElementById permite enviar los datos desde un formulario a otro -->
		//<!-- onlcick es evento que se activa cuando el usuario hacer clic en el botón. -->
		//<!-- Cuando se haga clic en el boton enviar get va a llamar a la funcion que corresponda. -->
		window.onload = function () {
			document.getElementById("enviar-get").onclick = validarDatosGET;
		}


	</script>

</head>

<body>

	<section class="seccion">
		<h1>Formulario de Datos </h1>
		<form id="formulario" name="valida_datos_get_frm" action="../prueba_1/html/validacion_login.php">
			<fieldset>
				<div class="contenedor-campo">

				
				<div class="campo">
					<legend>Contactanos llenando todos los campos</legend>
				</div>
				<div  class="campo">
					<label for="">correo </label>
					<input id="email" class="input-text" type="email" placeholder="correo@gmail.com" name="correo_txt">
					<span id="emailOK"></span>
				</div>
				<div  class="campo">
					<label for="">contraseña</label>
					<input class="input-text" type="password" name="contrasena_txt">
				</div>
			</div>
				<!--boton oculto mandar para saber que formulario enviamos, ya sea el get o post-->
				<input type="hidden" name="enviar_hdn" value="get" />
				<input  class="alinear" type="button" id="enviar-get" name="enviar_btn" value="Enviar" />
				<br /><br />

				
			</fieldset>
			
		</form>
	
	</section>
	
	
	</button>


	</div>
	</form>


	<script type="text/javascript">
		document.getElementById('email').addEventListener('input', 
		function() {
		campo = event.target;
		valido = document.getElementById('emailOK');
			
		emailRegex = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
	
		if (emailRegex.test(campo.value)) {
		  valido.innerText = "válido";
		} else {
		  valido.innerText = "incorrecto";
		}
	});
	</script>
</body>

</html>